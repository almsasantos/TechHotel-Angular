!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.name=t():(e["angular-osm"]=e["angular-osm"]||{},e["angular-osm"].name=t())}(this,function(){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}({0:function(e,t,r){e.exports=r(14)},14:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),a=o(n),i=angular.module("osm.togeojson",[]).provider("osmtogeojson",a.default);t.default=i},15:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(){this.options={areaTags:["area","building","leisure","tourism","ruins","historic","landuse","military","natural","sport"],uninterestingTags:["source","source_ref","source:ref","history","attribution","created_by","tiger:county","tiger:tlid","tiger:upload_uuid"],styles:{}},this.$get=function(){return(0,i.default)(this.options)}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(16),i=o(a);t.default=n},16:function(e,t){"use strict";function r(e){function t(e){var t=[];e instanceof Array||(e=u(e));for(var r=0;r<e.length;r++){var o=e[r],n={type:"Feature",geometry:{},properties:{id:o.id,tags:o.tags}};if("changeset"===o.type){n.geometry.type="Polygon";var a=o.latLngBounds;n.geometry.coordinates=[[[parseFloat(a._min_lon),parseFloat(a._min_lat)],[parseFloat(a._min_lon),parseFloat(a._max_lat)],[parseFloat(a._max_lon),parseFloat(a._max_lat)],[parseFloat(a._max_lon),parseFloat(a._min_lat)],[parseFloat(a._min_lon),parseFloat(a._min_lat)]]]}else if("node"===o.type)n.geometry.type="Point",n.geometry.coordinates=[o.latLng[1],o.latLng[0]];else{for(var i=new Array(o.nodes.length),s=0;s<o.nodes.length;s++){var f=o.nodes[s].latLng;i[s]=[f[1],f[0]]}l(o)?(n.geometry.type="Polygon",n.geometry.coordinates=[i]):(n.geometry.type="LineString",n.geometry.coordinates=i)}t.push(n)}return t}function r(e){return Array.isArray(e)?e:"object"===("undefined"==typeof e?"undefined":o(e))?[e]:[]}function n(e){var t=r(e.tag),o={};return t.forEach(function(e){o[e._k]=e._v}),o}function a(e){var t=r(e.osm.node),o={};return t.forEach(function(e){o[e._id]={id:e._id,type:"node",latLng:[parseFloat(e._lat),parseFloat(e._lon)],tags:n(e)}}),o}function i(e,t){var o=[],a=r(e.osm.way);return a.forEach(function(e){for(var r=e.nd,a={id:e._id,type:"way",nodes:new Array(r.length),tags:n(e)},i=0;i<r.length;i++)a.nodes[i]=t[r[i]._ref];o.push(a)}),o}function s(e,t,o){for(var a=[],i=r(e.osm.relation),s=0;s<i.length;s++){for(var u=i[s],l=r(u.member),f={id:u._id,type:"relation",members:new Array(l.length),tags:n(u)},d=0;d<l.length;d++)"node"===l[d]._type?f.members[d]=t[l[d]._ref]:f.members[d]=null;a.push(f)}return a}function u(e){var t=[],r=a(e),o=i(e,r),n=s(e,r,o);for(var u in r){var l=r[u];f(l,o,n)&&t.push(l)}for(var d=0;d<o.length;d++){var p=o[d];t.push(p)}return t}function l(t){if(t.nodes[0]!=t.nodes[t.nodes.length-1])return!1;for(var r in t.tags)if(e.areaTags.indexOf(r))return!0;return!1}function f(e,t,r){for(var o=!1,n=0;n<t.length;n++)if(t[n].nodes.indexOf(e)>=0){o=!0;break}if(!o)return!0;for(var a=0;a<r.length;a++)if(r[a].members.indexOf(e)>=0)return!0;return!1}function d(e,r){var o={type:"FeatureCollection",features:[]};return e&&(o.features=t(e)),o}var p={options:e,getAsArray:r,getFeatures:t,getNodes:a,getWays:i,getRelations:s,getTags:n,buildFeatures:u,isWayArea:l,interestingNode:f,togeojson:d};return p}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r}})});